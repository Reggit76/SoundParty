{% extends "base.html" %}
{% block title %}Рейтинг команд — Sound Party{% endblock %}
{% block content %}
  <div class="row">
    <div class="col-md-10 mx-auto">
      <h1 class="mb-4 text-center">
        <i class="fas fa-trophy"></i> Рейтинг команд
      </h1>
      
      {% if teams %}
        <div class="card">
          <div class="card-body p-0">
            <div class="table-responsive">
              <table class="table table-hover mb-0">
                <thead class="table-dark">
                  <tr>
                    <th class="text-center" style="width: 80px;">Место</th>
                    <th>Команда</th>
                    <th class="text-center">Рейтинг</th>
                  </tr>
                </thead>
                <tbody>
                  {% for team in teams %}
                    <tr class="{% if team.medal_class %}table-{{ team.medal_class }}{% endif %}">
                      <td class="text-center">
                        {% if team.position == 1 %}
                          <span class="badge bg-warning text-dark fs-5">
                            <i class="fas fa-medal"></i> 1
                          </span>
                        {% elif team.position == 2 %}
                          <span class="badge bg-secondary fs-5">
                            <i class="fas fa-medal"></i> 2
                          </span>
                        {% elif team.position == 3 %}
                          <span class="badge bg-brown fs-5" style="background-color: #CD7F32;">
                            <i class="fas fa-medal"></i> 3
                          </span>
                        {% else %}
                          <span class="fs-5">{{ team.position }}</span>
                        {% endif %}
                      </td>
                      <td>
                        <strong>{{ team.name }}</strong>
                      </td>
                      <td class="text-center">
                        <span class="badge bg-primary fs-6">{{ team.rating }}</span>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <div class="mt-4 text-center">
          <div class="card bg-light">
            <div class="card-body">
              <h5>Как формируется рейтинг?</h5>
              <p class="mb-0">
                Команды получают очки за участие в мероприятиях. 
                Чем выше место на мероприятии, тем больше очков получает команда.
              </p>
            </div>
          </div>
        </div>
      {% else %}
        <div class="alert alert-info text-center">
          <i class="fas fa-info-circle"></i> Пока нет зарегистрированных команд
        </div>
      {% endif %}
    </div>
  </div>
  
  <style>
    .table-gold {
      background-color: #fff3cd !important;
    }
    .table-silver {
      background-color: #e9ecef !important;
    }
    .table-bronze {
      background-color: #f5e6d3 !important;
    }
  </style>
{% endblock %}