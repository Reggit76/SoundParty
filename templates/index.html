{% extends "base.html" %}
{% block title %}Главная — Sound Party{% endblock %}
{% block content %}
  <!-- Уведомления -->
  {% if request.query_params.get('success') == 'team_created' %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <i class="fas fa-check-circle"></i> Команда успешно создана!
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  {% endif %}
  
  <h1 class="mb-4">Добро пожаловать в Sound Party!</h1>
  <p class="lead">Присоединяйтесь к музыкальным мероприятиям и участвуйте в соревнованиях</p>

  <div class="row g-4 mt-3">
    {% for event in events %}
    <div class="col-md-4">
      <div class="card h-100">
        <!-- Галочка для прошедших мероприятий -->
        {% if event.is_past %}
          <span class="position-absolute top-0 end-0 m-2 badge bg-success">
            <i class="fas fa-check"></i> Прошло
          </span>
        {% endif %}
        
        <div class="card-body">
          <h5 class="card-title">{{ event.description }}</h5>
          <p class="card-text">
            <i class="fas fa-calendar-alt"></i> {{ event.date }}<br>
            <i class="fas fa-clock"></i> {{ event.time }}<br>
            <i class="fas fa-users"></i> {{ event.max_teams }} команд<br>
            <i class="fas fa-map-marker-alt"></i> {{ event.venue_name }}
          </p>
        </div>
        <div class="card-footer text-center">
          <a href="/event/{{ event.event_id }}" class="btn btn-primary w-100">
            <i class="fas fa-info-circle"></i> Подробнее
          </a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
{% endblock %}